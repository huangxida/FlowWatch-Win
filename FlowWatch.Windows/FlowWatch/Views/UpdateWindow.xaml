<Window x:Class="FlowWatch.Views.UpdateWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="{DynamicResource Update.WindowTitle}"
        Width="420" SizeToContent="Height"
        ResizeMode="NoResize"
        WindowStartupLocation="CenterScreen"
        Style="{StaticResource SettingsWindowStyle}"
        ShowInTaskbar="True">

    <StackPanel Margin="32,24,32,24">

        <!-- Header -->
        <TextBlock x:Name="HeaderText" FontSize="20" FontWeight="SemiBold"
                   Foreground="{StaticResource TextBrush}" Margin="0,0,0,20"/>

        <!-- Version info -->
        <Border Background="{StaticResource CardBackgroundBrush}"
                BorderBrush="{StaticResource CardBorderBrush}" BorderThickness="1"
                CornerRadius="8" Padding="16,12" Margin="0,0,0,16">
            <StackPanel>
                <DockPanel Margin="0,0,0,4">
                    <TextBlock Text="{DynamicResource Update.CurrentVersion}" Style="{StaticResource FieldLabelStyle}"
                               DockPanel.Dock="Left"/>
                    <TextBlock x:Name="CurrentVersionText" Style="{StaticResource ValueStyle}"
                               DockPanel.Dock="Right" HorizontalAlignment="Right"/>
                </DockPanel>
                <DockPanel Margin="0,0,0,4">
                    <TextBlock Text="{DynamicResource Update.LatestVersion}" Style="{StaticResource FieldLabelStyle}"
                               DockPanel.Dock="Left"/>
                    <TextBlock x:Name="LatestVersionText" Style="{StaticResource ValueStyle}"
                               DockPanel.Dock="Right" HorizontalAlignment="Right"/>
                </DockPanel>
                <DockPanel>
                    <TextBlock Text="{DynamicResource Update.PublishedAt}" Style="{StaticResource FieldLabelStyle}"
                               DockPanel.Dock="Left"/>
                    <TextBlock x:Name="PublishedAtText" Style="{StaticResource ValueStyle}"
                               DockPanel.Dock="Right" HorizontalAlignment="Right"/>
                </DockPanel>
            </StackPanel>
        </Border>

        <!-- Release notes -->
        <TextBlock Text="{DynamicResource Update.ReleaseNotes}" FontSize="11.5" FontWeight="Medium"
                   Foreground="{StaticResource HintBrush}" Margin="0,0,0,6"/>
        <Border Background="{StaticResource CardBackgroundBrush}"
                BorderBrush="{StaticResource CardBorderBrush}" BorderThickness="1"
                CornerRadius="8" Padding="12,8" Margin="0,0,0,16">
            <ScrollViewer VerticalScrollBarVisibility="Auto" MaxHeight="100">
                <TextBlock x:Name="ReleaseNotesText" TextWrapping="Wrap"
                           Foreground="{StaticResource AccentBrush}" FontSize="12.5"/>
            </ScrollViewer>
        </Border>

        <!-- Progress bar (hidden by default) -->
        <StackPanel x:Name="ProgressPanel" Visibility="Collapsed" Margin="0,0,0,16">
            <DockPanel Margin="0,0,0,6">
                <TextBlock Text="{DynamicResource Update.Downloading}" Style="{StaticResource FieldLabelStyle}"
                           DockPanel.Dock="Left"/>
                <TextBlock x:Name="ProgressPercentText" Style="{StaticResource ValueStyle}"
                           DockPanel.Dock="Right" HorizontalAlignment="Right"/>
            </DockPanel>
            <ProgressBar x:Name="DownloadProgress" Height="6" Minimum="0" Maximum="100"
                         Background="#FFDDDDDD" Foreground="#FF1A1A1A"/>
        </StackPanel>

        <!-- Buttons -->
        <DockPanel x:Name="ButtonPanel" Margin="0,0,0,0">
            <Button x:Name="SkipButton" Content="{DynamicResource Update.SkipVersion}"
                    Style="{StaticResource SecondaryButtonStyle}"
                    DockPanel.Dock="Left" Click="OnSkipClick" Padding="14,9"/>
            <Button x:Name="UpdateButton" Content="{DynamicResource Update.UpdateNow}"
                    Style="{StaticResource PrimaryButtonStyle}"
                    DockPanel.Dock="Right" HorizontalAlignment="Right" Click="OnUpdateClick" Padding="14,9"/>
            <Button x:Name="LaterButton" Content="{DynamicResource Update.Later}"
                    Style="{StaticResource SecondaryButtonStyle}"
                    DockPanel.Dock="Right" HorizontalAlignment="Right" Click="OnLaterClick"
                    Margin="0,0,8,0" Padding="14,9"/>
        </DockPanel>

    </StackPanel>
</Window>
